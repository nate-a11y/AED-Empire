<section class="section">
  <div class="container">
    <h1>Your Cart</h1>
    
    {% if cart.items.size > 0 %}
      <form action="/cart" method="post">
        <table class="cart-table">
          <thead>
            <tr>
              <th>Product</th>
              <th>Price</th>
              <th>Quantity</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody>
            {% for item in cart.items %}
              <tr>
                <td>
                  <div style="display:flex;gap:15px;align-items:center">
                    <img src="{{ item.image | image_url: width: 80 }}" alt="{{ item.title }}">
                    <div>
                      <strong>{{ item.product.title }}</strong>
                      {% if item.variant.title != 'Default Title' %}<br><small>{{ item.variant.title }}</small>{% endif %}
                    </div>
                  </div>
                </td>
                <td>{{ item.original_price | money }}</td>
                <td>
                  <input type="number" name="updates[]" value="{{ item.quantity }}" min="0" style="width:60px;padding:8px;text-align:center">
                </td>
                <td>{{ item.final_line_price | money }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
        
        <div class="cart__footer">
          <button type="submit" class="btn btn--outline">Update Cart</button>
          <div>
            <p class="cart__subtotal">Subtotal: {{ cart.total_price | money }}</p>
            <a href="/checkout" class="btn btn--primary btn--large">Checkout</a>
          </div>
        </div>
      </form>
    {% else %}
      <div class="cart__empty">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
        <h2>Your cart is empty</h2>
        <p>Looks like you haven't added any items yet.</p>
        <a href="/collections/all" class="btn btn--primary">Continue Shopping</a>
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Cart page",
  "settings": []
}
{% endschema %}

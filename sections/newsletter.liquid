<section class="newsletter{% if section.settings.dark %} newsletter--dark{% endif %}" aria-labelledby="newsletter-heading">
  <div class="container">
    <div class="newsletter__inner">
      <div>
        <h2 id="newsletter-heading">{{ section.settings.title }}</h2>
        <p id="newsletter-description">{{ section.settings.text }}</p>
      </div>
      {% form 'customer', class: 'newsletter__form' %}
        <input type="hidden" name="contact[tags]" value="newsletter">
        <label for="newsletter-email" class="visually-hidden">Email address</label>
        <input type="email" id="newsletter-email" name="contact[email]" class="newsletter__input" placeholder="{{ section.settings.placeholder }}" required aria-required="true" aria-describedby="newsletter-description" autocomplete="email">
        <button type="submit" class="btn btn--primary">{{ section.settings.button_text }}</button>
      {% endform %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Newsletter",
  "settings": [
    {"type":"text","id":"title","label":"Heading","default":"Stay Prepared"},
    {"type":"textarea","id":"text","label":"Text","default":"Subscribe to receive safety tips, product updates, and exclusive offers."},
    {"type":"text","id":"placeholder","label":"Input placeholder","default":"Enter your email"},
    {"type":"text","id":"button_text","label":"Button text","default":"Subscribe"},
    {"type":"checkbox","id":"dark","label":"Dark background","default":false}
  ],
  "presets": [{"name":"Newsletter"}]
}
{% endschema %}

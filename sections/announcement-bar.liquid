{% if section.settings.show %}
<div class="announcement-bar" role="region" aria-label="Store announcement">
  <div class="container">
    <div class="announcement-bar__inner">
      {% if section.settings.icon %}
        <svg class="announcement-bar__icon" aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
      {% endif %}
      <p class="announcement-bar__text">
        {% if section.settings.link %}
          <a href="{{ section.settings.link }}">{{ section.settings.text }}</a>
        {% else %}
          {{ section.settings.text }}
        {% endif %}
      </p>
    </div>
  </div>
</div>

<style>
  .announcement-bar {
    background: {{ section.settings.background_color }};
    color: {{ section.settings.text_color }};
    padding: 12px 0;
    font-size: 0.875rem;
    font-weight: 500;
    letter-spacing: 0.02em;
  }
  .announcement-bar__inner {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    text-align: center;
  }
  .announcement-bar__icon {
    flex-shrink: 0;
    opacity: 0.9;
  }
  .announcement-bar__text {
    margin: 0;
  }
  .announcement-bar__text a {
    color: inherit;
    text-decoration: underline;
    text-underline-offset: 3px;
  }
  .announcement-bar__text a:hover {
    text-decoration-thickness: 2px;
  }
  .announcement-bar__text a:focus {
    outline: 2px solid currentColor;
    outline-offset: 3px;
    border-radius: 2px;
  }
  .announcement-bar__text a:focus:not(:focus-visible) {
    outline: none;
  }
  .announcement-bar__text a:focus-visible {
    outline: 2px solid currentColor;
    outline-offset: 3px;
  }
</style>
{% endif %}

{% schema %}
{
  "name": "Announcement bar",
  "settings": [
    {
      "type": "checkbox",
      "id": "show",
      "label": "Show announcement bar",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "icon",
      "label": "Show shield icon",
      "default": true
    },
    {
      "type": "text",
      "id": "text",
      "label": "Text",
      "default": "Free Shipping on Orders Over $500 | FDA Registered AED Dealer"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Link"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#1a1a1a"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#ffffff"
    }
  ]
}
{% endschema %}

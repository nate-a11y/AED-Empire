{% if section.settings.show %}
<div class="announcement-bar">
  {% if section.settings.icon %}
    <svg class="announcement-bar__icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
  {% endif %}
  {% if section.settings.link %}
    <a href="{{ section.settings.link }}">{{ section.settings.text }}</a>
  {% else %}
    {{ section.settings.text }}
  {% endif %}
</div>
{% endif %}

{% schema %}
{
  "name": "Announcement bar",
  "settings": [
    {
      "type": "checkbox",
      "id": "show",
      "label": "Show announcement bar",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "icon",
      "label": "Show shield icon",
      "default": true
    },
    {
      "type": "text",
      "id": "text",
      "label": "Text",
      "default": "A person can bleed to death in less than 3 minutes. #StopTheBleed"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Link"
    }
  ]
}
{% endschema %}

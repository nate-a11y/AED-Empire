{% comment %}
  Breadcrumb structured data
  Called from breadcrumbs.liquid
{% endcomment %}

{% assign breadcrumb_items = '' | split: ',' %}

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": {{ request.origin | json }}
    }
    {% if template.name == 'product' %}
      {% if product.collections.first %}
      ,{
        "@type": "ListItem",
        "position": 2,
        "name": {{ product.collections.first.title | json }},
        "item": {{ request.origin | append: product.collections.first.url | json }}
      }
      ,{
        "@type": "ListItem",
        "position": 3,
        "name": {{ product.title | json }},
        "item": {{ request.origin | append: product.url | json }}
      }
      {% else %}
      ,{
        "@type": "ListItem",
        "position": 2,
        "name": {{ product.title | json }},
        "item": {{ request.origin | append: product.url | json }}
      }
      {% endif %}
    {% elsif template.name == 'collection' %}
      ,{
        "@type": "ListItem",
        "position": 2,
        "name": {{ collection.title | json }},
        "item": {{ request.origin | append: collection.url | json }}
      }
    {% elsif template.name == 'article' %}
      ,{
        "@type": "ListItem",
        "position": 2,
        "name": {{ blog.title | json }},
        "item": {{ request.origin | append: blog.url | json }}
      }
      ,{
        "@type": "ListItem",
        "position": 3,
        "name": {{ article.title | json }},
        "item": {{ request.origin | append: article.url | json }}
      }
    {% elsif template.name == 'page' %}
      ,{
        "@type": "ListItem",
        "position": 2,
        "name": {{ page.title | json }},
        "item": {{ request.origin | append: page.url | json }}
      }
    {% endif %}
  ]
}
</script>
